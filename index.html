<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="./css/index.css">

</head>
<body>
<div id="wrap">
    <header id="header">
        <div class="headerMain">
            <h1 class="logo">
                <img src="./img/logo.png">
            </h1>
            <img class="music-icon" src="./img/musicon.gif" alt="music_icon">

            <ul class="nav" >
                <li>
                   <h3 class="up"><img src="./img/home.png"></h3>
                   <h3 class="down"><img src="./img/home_gruen.png"></h3>
                </li>
                <li>
                    <h3 class="up">Course</h3>
                    <h3 class="down">Course</h3>
                </li>
                <li>
                    <h3 class="up">Works</h3>
                    <h3 class="down">Works</h3>
                </li>
                <li>
                    <h3 class="up">About</h3>
                    <h3 class="down">About</h3>
                </li>
                <li>
                    <h3 class="up">Team</h3>
                    <h3 class="down">Team</h3>
                </li>
            </ul>
            <div class="arrow"></div>
        </div>
    </header>
    <div class="content">
        <ul class="content-main">
            <li>
                <section class="home">
                    <ul class="home-content">
                    <li>One layer</li>
                    <li>Two layer</li>
                    <li>Three layer</li>
                    <li>Four layer</li>
                </ul>
                    <ul class="home-point">
                        <li>One layer</li>
                        <li>Two layer</li>
                        <li>Three layer</li>
                        <li>Four layer</li>
                    </ul>
                </section>
            </li>
            <li><section>course</section></li>
            <li><section>works</section></li>
            <li><section>about</section></li>
            <li><section>team</section></li>
        </ul>
    </div>

</div>

</body>
<script type="text/javascript">
    var headerLisNodes = document.querySelectorAll('.nav li');
    var arrowNode = document.querySelector('.arrow');
    var headerDownNodes = document.querySelectorAll('.down');
    var contentUlNode = document.querySelector('.content-main');
    var contentNode = document.querySelector('.content');

    var contentHeight = contentNode.offsetHeight;
    var nowIndex = 0;
    headerHandle();
    function headerHandle() {


        arrowNode.style.left = headerLisNodes[0].getBoundingClientRect().left + headerLisNodes[0].offsetWidth / 2
            - arrowNode.offsetWidth / 2 + 'px';
        headerDownNodes[0].style.width = '100%';

        for (var i = 0; i < headerLisNodes.length; i++) {
            headerLisNodes[i].index = i;
            headerLisNodes[i].onclick = function () {
                headerDownNodes[i].style.width = '100%';
                nowIndex = this.index;


            }
            function move(nowIndex) {

                for (var j = 0; j < headerDownNodes.length; j++) {
                    headerDownNodes[j].style.width = '';
                }

                headerDownNodes[nowIndex].style.width = '100%';

                arrowNode.style.left = headerLisNodes[nowIndex].getBoundingClientRect().left + headerLisNodes[nowIndex].offsetWidth / 2
                    - arrowNode.offsetWidth / 2 + 'px';
                contentUlNode.style.top = -nowIndex * contentHeight + 'px';
            }

            contentHandle();
            function contentHandle() {

                document.onmousewheel = wheel;
                document.addEventListener('DOMMouseScroll', wheel);

                function wheel(event) {
                    event = event || window.event;

                    var flag = '';
                    if (event.wheelDelta) {
                        //ie/chrome
                        if (event.wheelDelta > 0) {
                            flag = 'up';
                        } else {
                            flag = 'down'
                        }
                    } else if (event.detail) {
                        //firefox
                        if (event.detail < 0) {
                            flag = 'up';
                        } else {
                            flag = 'down'
                        }
                    }

                    switch (flag) {
                        case 'up' :
                            if (nowIndex > 0) {
                                nowIndex--;
                                move(nowIndex);
                            }
                            break;
                        case 'down' :
                            if (nowIndex < 4) {
                                nowIndex++;
                                move(nowIndex);
                            }
                            break;
                    }

                    //禁止默认行为
                    event.preventDefault && event.preventDefault();
                    return false;
                }
            }

        }}
</script>
</html>